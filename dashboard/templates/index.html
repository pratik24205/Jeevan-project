<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword" content="">
    <meta name="author" content="Fundsroom">
    <!--! The above 6 meta tags *must* come first in the head; any other head content must come *after* these tags !-->
    <!--! BEGIN: Apps Title-->
    <title>Fundsweb Sales || Login Page</title>
    <!--! END:  Apps Title-->
    <!--! BEGIN: Favicon-->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/FundsAuditLogo.png">
    <!--! END: Favicon-->
    <!--! BEGIN: Bootstrap CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/css/bootstrap.min.css">
    <!--! END: Bootstrap CSS-->
    <!--! BEGIN: Vendors CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/vendors/css/vendors.min.css">
    <!--! END: Vendors CSS-->
    <!--! BEGIN: Custom CSS-->
    <link rel="stylesheet" type="text/css" href="./../assets/css/theme.min.css">
    <!--! END: Custom CSS-->
    <!--! HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries !-->
    <!--! WARNING: Respond.js doesn"t work if you view the page via file: !-->
    <!--[if lt IE 9]>
			<script src="https:oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https:oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

</head>

<body>
    <!--! ================================================================ !-->
    <!--! [Start] Main Content !-->
    <!--! ================================================================ !-->
    <main class="auth-minimal-wrapper">
        <div class="auth-minimal-inner">
            <div class="minimal-card-wrapper">
                <div class="card mb-4 mt-5 mx-4 mx-sm-0 position-relative">

                    <div class="card-body p-sm-5">
                        <h2 class="fs-20 fw-bolder mb-4 position-relative">
                            <img src="/assets/images/FundsAuditLogo.png" alt="Logo"
                                class="position-absolute top-50 start-50 translate-middle opacity-25"
                                style="width: 80px; z-index: 0;">
                            Welcome to <br>FundsWeb Sales Dashboard
                        </h2>

                        <p class="fs-12 fw-medium text-muted">Login to your account to get access to Dashboard.
                        </p>
                        <form id="loginForm" class="w-100 mt-3 pt-2">
                            <div class="mb-4">
                                <input type="email" id="email" class="form-control" placeholder="Email or Username"
                                    required>
                            </div>
                            <div class="mb-3 generate-pass">
                                <div class="input-group field">
                                    <input type="password" class="form-control password" id="password"
                                        placeholder="Password">
                                    <div class="input-group-text border-start bg-gray-2 c-pointer show-pass"
                                        data-bs-toggle="tooltip" title="Show/Hide Password"><i></i></div>
                                </div>
                            </div>
                            <div class="d-flex align-items-center justify-content-between">
                                <div>
                                    <div class="custom-control custom-checkbox">
                                        <!-- Remember Me checkbox (optional) -->
                                    </div>
                                </div>
                                <!-- Forgot password link (optional) -->
                            </div>
                            <div class="mt-3">
                                <button type="submit" class="btn btn-lg btn-primary w-100">Login</button>
                            </div>
                        </form>
                        <div class="mt-3 text-muted">
                            <span> Don't have an account?</span>
                            <a href="register.html" class="fw-bold">Create an Account</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
    <!--! ================================================================ !-->
    <!--! [End] Main Content !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! BEGIN: Theme Customizer !-->
    <!--! ================================================================ !-->

    <!--! ================================================================ !-->
    <!--! [End] Theme Customizer !-->
    <!--! ================================================================ !-->
    <!--! ================================================================ !-->
    <!--! Footer Script !-->
    <!--! ================================================================ !-->
    <!--! BEGIN: Vendors JS !-->
    <script src="./../assets/vendors/js/vendors.min.js"></script>
    <!-- vendors.min.js {always must need to be top} -->
    <!--! END: Vendors JS !-->
    <!--! BEGIN: Apps Init  !-->
    <script src="./../assets/js/common-init.min.js"></script>
    <script src="./../assets/vendors/js/lslstrength.min.js"></script>
    <!--! END: Apps Init !-->
    <!--! BEGIN: Theme Customizer  !-->
    <script src="./../assets/js/theme-customizer-init.min.js"></script>
    <!--! END: Theme Customizer !-->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- SHA-256 library for HTTP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsSHA/3.2.0/sha256.min.js"></script>

    <!-- Add SweetAlert2 (CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        $(document).ready(function () {
            $("#loginForm").on("submit", function (e) {
                e.preventDefault();

                const email = $("#email").val().trim();
                const password = $("#password").val().trim();

                if (!email || !password) {
                    Swal.fire({
                        icon: "warning",
                        title: "Both email and password are required!",
                        confirmButtonColor: "#3085d6"
                    });
                    return;
                }

                Swal.fire({
                    title: "Logging in...",
                    allowOutsideClick: false,
                    didOpen: () => {
                        Swal.showLoading();
                    }
                });

                var payload = {
                    email: email,
                    password: password
                }
                console.log("Payload:", payload);

                $.ajax({
                    url: "https://fundsaudit.com/api/v1/user/login",
                    type: "POST",
                    contentType: "application/json",
                    data: JSON.stringify(payload),
                    success: function (response) {
                        sessionStorage.setItem("user_data", JSON.stringify(response));
                        console.log("Success:", response);
                        Swal.fire({
                            icon: "success",
                            title: "Login successful!",
                            confirmButtonColor: "#3085d6"
                        }).then(() => {
                            window.location.href = "/templates/A.html";
                        });
                    },
                    error: function (xhr, status, error) {
                        console.error("Error:", status, error);
                        Swal.fire({
                            icon: "error",
                            title: "Login failed!",
                            text: xhr.responseJSON?.message || "Please check your credentials.",
                            confirmButtonColor: "#d33"
                        });
                    }
                });
            });
        });
    </script>

    <script>
        window.addEventListener("contextmenu", function (e) {
            e.preventDefault();
        });

        let devAccessGranted = false;

        window.addEventListener("keydown", function (e) {
            const isCtrl = e.ctrlKey;
            const isShift = e.shiftKey;
            const isAlt = e.altKey;
            const key = e.key.toLowerCase();

            if (isCtrl && isAlt && isShift && key === "i") {
                devAccessGranted = true;
                alert("Developer access granted. Now you can open DevTools.");
                return;
            }

            if (
                !devAccessGranted &&
                (
                    e.keyCode === 123 ||
                    (isCtrl && isShift && (key === "i" || key === "j")) ||
                    (isCtrl && key === "u")
                )
            ) {
                e.preventDefault();
            }
        }, true);
    </script>

</body>

</html>